<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VLANs, Trunks, and VTP | Network 2 Hub</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&family=Inter:wght@400&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="../style.css">
</head>

<body>
    <div
        style="background: linear-gradient(90deg, #8b5cf6 0%, #3b82f6 100%); color: white; padding: 12px; text-align: center; font-family: 'Cairo', sans-serif; border-bottom: 1px solid rgba(255,255,255,0.1);">
        <p style="margin: 0; font-size: 15px; color: white; direction: rtl;">
            üéì <strong>ÿ±ŸÉÿ≤ ŸÅŸä ÿßÿÆÿ™ÿ®ÿßÿ±ŸÉ ÿßŸÑÿ¢ŸÜ.. ŸàÿßŸÑŸÖÿ≥ÿ™ŸÇÿ®ŸÑ ÿπŸÑŸäŸÜÿß!</strong> &nbsp;|&nbsp;
            <a href="https://kawnhub.com/" target="_blank"
                style="color: white; text-decoration: underline; font-weight: bold;">ŸÜÿ¨Ÿáÿ≤ ŸÑŸÉŸÖ ŸÖŸÜÿµÿ© ÿ¨ÿØŸäÿØÿ© ŸÉŸÑŸäÿßŸã ŸÑŸÑŸÅÿµŸÑ
                ÿßŸÑŸÇÿßÿØŸÖ (V2)</a> .. ÿ®ÿßŸÑÿ™ŸàŸÅŸäŸÇ !
        </p>
    </div>
    <a href="Network2.html" class="back-button">&larr; Back to Network 2 Hub</a>
    <div class="container">
        <header class="main-header">
            <h1>VLANs, Trunks, and VTP</h1>
        </header>
        <main>
            <section class="section">
                <h2>1. VLAN Configuration</h2>
                <p>VLANs (Virtual LANs) logically segment a switch into separate broadcast domains. Devices in one VLAN
                    cannot communicate directly with devices in another VLAN without a router.</p>
                <h3>Creating VLANs and Assigning Ports</h3>
                <p>This example creates two VLANs (10 and 20) and assigns interfaces to them.</p>
                <pre><code><span class="comment">! Create VLAN 10 and give it a name</span>
<span class="output">Switch(config)#</span><span class="user-input">vlan 10</span>
<span class="output">Switch(config-vlan)#</span><span class="user-input">name Students</span>
<span class="output">Switch(config-vlan)#</span><span class="user-input">exit</span>

<span class="comment">! Create VLAN 20 and give it a name</span>
<span class="output">Switch(config)#</span><span class="user-input">vlan 20</span>
<span class="output">Switch(config-vlan)#</span><span class="user-input">name Faculty</span>
<span class="output">Switch(config-vlan)#</span><span class="user-input">exit</span>

<span class="comment">! Assign interface FastEthernet0/1 to VLAN 10</span>
<span class="output">Switch(config)#</span><span class="user-input">interface fastEthernet 0/1</span>
<span class="output">Switch(config-if)#</span><span class="user-input">switchport mode access</span>
<span class="output">Switch(config-if)#</span><span class="user-input">switchport access vlan 10</span>
<span class="output">Switch(config-if)#</span><span class="user-input">exit</span>

<span class="comment">! Assign a range of interfaces to VLAN 20</span>
<span class="output">Switch(config)#</span><span class="user-input">interface range fastEthernet 0/2 - 5</span>
<span class="output">Switch(config-if-range)#</span><span class="user-input">switchport mode access</span>
<span class="output">Switch(config-if-range)#</span><span class="user-input">switchport access vlan 20</span></code></pre>

                <h3>Verification</h3>
                <pre><code><span class="output">Switch#</span><span class="user-input">show vlan brief</span>
<span class="output">
VLAN Name                             Status    Ports
---- -------------------------------- --------- -------------------------------
1    default                          active    Fa0/6, Fa0/7, Fa0/8, Fa0/9...
10   Students                         active    Fa0/1
20   Faculty                          active    Fa0/2, Fa0/3, Fa0/4, Fa0/5
...</span></code></pre>
            </section>

            <section class="section">
                <h2>2. Trunking Configuration</h2>
                <p>A trunk port is a link that carries traffic for multiple VLANs between switches or between a switch
                    and a router. The 802.1Q protocol is used to "tag" frames with VLAN information as they cross the
                    trunk.</p>
                <pre><code><span class="comment">! Configure the interface connecting to another switch as a trunk</span>
<span class="output">Switch(config)#</span><span class="user-input">interface gigabitEthernet 0/1</span>
<span class="output">Switch(config-if)#</span><span class="user-input">switchport mode trunk</span></code></pre>
                <h3>Verification</h3>
                <pre><code><span class="output">Switch#</span><span class="user-input">show interfaces trunk</span>
<span class="output">
Port        Mode             Encapsulation  Status        Native vlan
Gig0/1      on               802.1q         trunking      1

Port        Vlans allowed on trunk
Gig0/1      1-4094
...</span></code></pre>
            </section>

            <section class="section">
                <h2>3. VLAN Trunking Protocol (VTP)</h2>
                <p>VTP allows you to manage VLANs on a single "server" switch, which then propagates the VLAN database
                    to "client" switches in the same VTP domain. This saves time and ensures consistency.</p>
                <h3>VTP Modes</h3>
                <ul>
                    <li><strong>Server:</strong> The default mode. You can create, modify, and delete VLANs. The server
                        sends VTP advertisements to clients.</li>
                    <li><strong>Client:</strong> Cannot create, modify, or delete VLANs. It listens to VTP
                        advertisements from the server and synchronizes its VLAN database.</li>
                    <li><strong>Transparent:</strong> Does not participate in VTP but will forward VTP advertisements.
                        You can create/delete local VLANs, but they are not shared.</li>
                </ul>
                <h3>Configuration Example</h3>
                <pre><code><span class="comment">! Configure the VTP Server Switch</span>
<span class="output">VTP_Server(config)#</span><span class="user-input">vtp domain JIC</span>
<span class="output">VTP_Server(config)#</span><span class="user-input">vtp mode server</span>
<span class="output">VTP_Server(config)#</span><span class="user-input">vtp password cisco</span>

<span class="comment">! Configure the VTP Client Switch</span>
<span class="output">VTP_Client(config)#</span><span class="user-input">vtp domain JIC</span>
<span class="output">VTP_Client(config)#</span><span class="user-input">vtp mode client</span>
<span class="output">VTP_Client(config)#</span><span class="user-input">vtp password cisco</span></code></pre>

                <div class="warning-box">
                    <p class="danger">Note: if Vlans doesn't shows up on client switches do this on all L2 switches</p>
                    <p class="danger">First make sure all links between switches in trunk mode , then enable trunk mode
                        on
                        etherchannel interface</p>
                </div>
                <pre>
<code class="output">SW1(config)# </code><code class="user-input">interface port-channel 1</code>
<code class="output">SW2(config-if)# </code><code class="user-input">switchport mode trunk</code>
<h5 class="note">Note: if you did all these steps and Vlans still not shows up , try to disconnect the links then reconnect them at same interface , and check VTP configuration on all switches</h5>
</pre>
                <div class="video-container">
                    <iframe src="https://www.youtube.com/embed/wCsk9omVxmY" title="YouTube video player" frameborder="0"
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                        allowfullscreen></iframe>
                </div>
            </section>

            <section class="section">
                <h2>4. Native and Voice VLANs</h2>
                <h3>Native VLAN</h3>
                <p>The Native VLAN is the one VLAN on an 802.1Q trunk that is sent **untagged**. For security, it is
                    best practice to change the native VLAN from the default of VLAN 1 to an unused VLAN.</p>
                <pre><code><span class="output">Switch(config)#</span><span class="user-input">interface gigabitEthernet 0/1</span>
<span class="output">Switch(config-if)#</span><span class="user-input">switchport trunk native vlan 999</span></code></pre>

                <h3>Voice VLAN</h3>
                <p>A Voice VLAN allows an IP phone and a PC to share a single switch port. The switch places voice
                    traffic in one VLAN and data traffic from the PC in another.</p>
                <pre><code><span class="comment">! VLAN 100 for data (PC), VLAN 101 for voice (IP Phone)</span>
<span class="output">Switch(config)#</span><span class="user-input">interface fastEthernet 0/10</span>
<span class="output">Switch(config-if)#</span><span class="user-input">switchport mode access</span>
<span class="output">Switch(config-if)#</span><span class="user-input">switchport access vlan 100</span>
<span class="output">Switch(config-if)#</span><span class="user-input">switchport voice vlan 101</span></code></pre>
            </section>


            <section class="section">
                <h2>5.Another Video reference for DTP, Native VLAN, and Voice VLAN configurations</h2>
                <div class="video-container">
                    <iframe width="1257" height="709"
                        src="https://www.youtube.com/embed/cz9sDYkkHho?list=PLHIaUDuXsOs9aZC3nDZ_zb5v4g5qVr5vD"
                        title="20- DTP, Native VLAN, and Voice VLAN configurations" frameborder="0"
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                        referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                </div>
            </section>
        </main>
        <footer class="main-footer">
            <p>If there are any mistakes or wrong info, please feel free to contact me at <a
                    href="mailto:BSA717@outlook.sa" target="_blank">BSA717@outlook.sa</a>.</p>
            <p>Built as a reference for JIC students. Inspired by <a href="https://basilr00t.vercel.app/"
                    target="_blank">BASILR00T</a>.</p>
        </footer>
    </div>
</body>

</html>